# Description: Fast, lightweight, standards-compliant window manager
# URL: http://openbox.org
# Maintainer: CRUX System Team, core-ports at crux dot nu
# Depends on: libxml2 pango xorg-libxinerama xorg-libxrandr

name=openbox
version=3.6.1
release=1
source=(http://openbox.org/dist/openbox/openbox-$version.tar.gz
        http://http.debian.net/debian/pool/main/o/openbox/openbox_3.6.1-12.debian.tar.xz)

build() {
    cd $name-$version
    for i in $(cat ../debian/patches/series); do
        echo Applying $i ...
        patch -p1 -i ../debian/patches/$i
    done
    autoreconf -vfi
	./configure \
		--prefix=/usr \
        --libdir=/usr/lib64 \
		--libexecdir=/usr/lib64/openbox \
        --disable-static \
		--disable-nls
	make
	make DESTDIR=$PKG install
	mv $PKG/usr/share/doc/$name/*.xsd $PKG/usr/etc/xdg/$name
	rm -rf $PKG/usr/share/doc
}
